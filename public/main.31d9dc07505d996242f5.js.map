{"version":3,"file":"main.31d9dc07505d996242f5.js","mappings":"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","sources":["webpack://signalk-edge-link/./src/webapp/index.js","webpack://signalk-edge-link/webpack/bootstrap","webpack://signalk-edge-link/webpack/runtime/hasOwnProperty shorthand","webpack://signalk-edge-link/webpack/runtime/sharing","webpack://signalk-edge-link/webpack/startup"],"sourcesContent":["import \"./styles.css\";\n\n// Constants\nconst API_BASE_PATH = \"/plugins/signalk-edge-link\";\nconst DELTA_TIMER_MIN = 100;\nconst DELTA_TIMER_MAX = 10000;\nconst NOTIFICATION_TIMEOUT = 4000;\nconst METRICS_REFRESH_INTERVAL = 15000; // 15 seconds (optimized from 5s to reduce server load)\nconst JSON_SYNC_DEBOUNCE = 300; // Debounce delay for JSON editor sync\n\n// HTML Template Helpers\nconst renderCard = (title, subtitle, contentId, contentClass = \"\") => `\n  <div class=\"config-section\">\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <h2>${title}</h2>\n        ${subtitle ? `<p class=\"subtitle\">${subtitle}</p>` : \"\"}\n      </div>\n      <div class=\"card-content\">\n        <div id=\"${contentId}\" class=\"${contentClass || contentId + \"-info\"}\">\n          <p>Loading ${title.toLowerCase()}...</p>\n        </div>\n      </div>\n    </div>\n  </div>\n`;\n\nconst renderStatItem = (label, value, hasError = false) => `\n  <div class=\"stat-item${hasError ? \" error\" : \"\"}\">\n    <span class=\"stat-label\">${label}:</span>\n    <span class=\"stat-value\">${value}</span>\n  </div>\n`;\n\nconst renderMetricItem = (label, value, statusClass = \"\") => `\n  <div class=\"metric-item${statusClass ? \" \" + statusClass : \"\"}\">\n    <div class=\"metric-label\">${label}</div>\n    <div class=\"metric-value\">${value}</div>\n  </div>\n`;\n\nconst renderBwStat = (label, value, isHighlight = false, isSuccess = false) => `\n  <div class=\"bw-stat${isHighlight ? \" highlight\" : \"\"}\">\n    <span class=\"bw-label\">${label}:</span>\n    <span class=\"bw-value${isSuccess ? \" success-text\" : \"\"}\">${value}</span>\n  </div>\n`;\n\nclass DataConnectorConfig {\n  constructor() {\n    this.deltaTimerConfig = null;\n    this.subscriptionConfig = null;\n    this.sentenceFilterConfig = null;\n    this.isServerMode = false;\n    this.protocolVersion = 1;\n    this.metricsInterval = null;\n    this.syncTimeout = null;\n    this.init();\n  }\n\n  async init() {\n    try {\n      await this.checkServerMode();\n      if (this.isServerMode) {\n        this.showServerModeUI();\n      } else {\n        await this.loadConfigurations();\n        this.setupEventListeners();\n        this.updateUI();\n        this.updateStatus();\n      }\n      await this.loadMetrics();\n      this.startMetricsRefresh();\n    } catch (error) {\n      console.error(\"Initialization error:\", error);\n      this.showNotification(\"Failed to initialize application: \" + error.message, \"error\");\n    }\n  }\n\n  async checkServerMode() {\n    try {\n      // Try to access the configuration API\n      const response = await fetch(`${API_BASE_PATH}/config/delta_timer.json`);\n      this.isServerMode = !response.ok && (response.status === 404 || response.status === 405);\n    } catch (error) {\n      // If fetch fails completely, assume server mode\n      this.isServerMode = true;\n    }\n  }\n\n  async loadConfigurations() {\n    try {\n      const [deltaResponse, subResponse, filterResponse] = await Promise.all([\n        fetch(`${API_BASE_PATH}/config/delta_timer.json`),\n        fetch(`${API_BASE_PATH}/config/subscription.json`),\n        fetch(`${API_BASE_PATH}/config/sentence_filter.json`)\n      ]);\n\n      if (deltaResponse.ok) {\n        this.deltaTimerConfig = await deltaResponse.json();\n      }\n      if (subResponse.ok) {\n        this.subscriptionConfig = await subResponse.json();\n      }\n      if (filterResponse.ok) {\n        this.sentenceFilterConfig = await filterResponse.json();\n      }\n    } catch (error) {\n      this.showNotification(\"Error loading configurations: \" + error.message, \"error\");\n    }\n  }\n\n  setupEventListeners() {\n    // Delta timer save button\n    document.getElementById(\"saveDeltaTimer\").addEventListener(\"click\", () => {\n      this.saveDeltaTimer();\n    });\n\n    // Subscription save button\n    document.getElementById(\"saveSubscription\").addEventListener(\"click\", () => {\n      this.saveSubscription();\n    });\n\n    // Sentence filter save button\n    document.getElementById(\"saveSentenceFilter\").addEventListener(\"click\", () => {\n      this.saveSentenceFilter();\n    });\n\n    // Add path button\n    document.getElementById(\"addPath\").addEventListener(\"click\", () => {\n      this.addPathItem();\n    });\n\n    // JSON editor sync (debounced to avoid rebuilding form on every keystroke)\n    document.getElementById(\"subscriptionJson\").addEventListener(\"input\", () => {\n      if (this.syncTimeout) {\n        clearTimeout(this.syncTimeout);\n      }\n      this.syncTimeout = setTimeout(() => {\n        this.syncFromJson();\n      }, JSON_SYNC_DEBOUNCE);\n    });\n\n    // Context input change\n    document.getElementById(\"context\").addEventListener(\"input\", () => {\n      this.updateJsonFromForm();\n    });\n  }\n\n  updateUI() {\n    // Update delta timer input\n    if (this.deltaTimerConfig && this.deltaTimerConfig.deltaTimer) {\n      document.getElementById(\"deltaTimer\").value = this.deltaTimerConfig.deltaTimer;\n    }\n\n    // Update subscription configuration\n    if (this.subscriptionConfig) {\n      document.getElementById(\"context\").value = this.subscriptionConfig.context || \"*\";\n\n      // Clear existing paths\n      document.getElementById(\"pathsList\").innerHTML = \"\";\n\n      // Add subscription paths\n      if (this.subscriptionConfig.subscribe && Array.isArray(this.subscriptionConfig.subscribe)) {\n        this.subscriptionConfig.subscribe.forEach((sub) => {\n          this.addPathItem(sub.path);\n        });\n      }\n\n      // Update JSON editor\n      document.getElementById(\"subscriptionJson\").value = JSON.stringify(\n        this.subscriptionConfig,\n        null,\n        2\n      );\n    }\n\n    // Update sentence filter input\n    if (this.sentenceFilterConfig && Array.isArray(this.sentenceFilterConfig.excludedSentences)) {\n      document.getElementById(\"sentenceFilter\").value =\n        this.sentenceFilterConfig.excludedSentences.join(\", \");\n    }\n  }\n\n  addPathItem(path = \"\") {\n    const pathsList = document.getElementById(\"pathsList\");\n    const pathItem = document.createElement(\"div\");\n    pathItem.className = \"path-item\";\n\n    // Create elements safely to prevent XSS\n    const input = document.createElement(\"input\");\n    input.type = \"text\";\n    input.value = path; // Safe: value property is automatically escaped\n    input.placeholder = \"navigation.position\";\n    input.className = \"path-input\";\n\n    const button = document.createElement(\"button\");\n    button.type = \"button\";\n    button.className = \"btn btn-danger\";\n    button.textContent = \"Remove\";\n\n    // Add event listeners\n    input.addEventListener(\"input\", () => {\n      this.updateJsonFromForm();\n    });\n\n    button.addEventListener(\"click\", () => {\n      pathItem.remove();\n      this.updateJsonFromForm();\n    });\n\n    pathItem.appendChild(input);\n    pathItem.appendChild(button);\n    pathsList.appendChild(pathItem);\n    this.updateJsonFromForm();\n  }\n\n  updateJsonFromForm() {\n    const context = document.getElementById(\"context\").value || \"*\";\n    const pathInputs = document.querySelectorAll(\".path-input\");\n    const subscribe = Array.from(pathInputs)\n      .map((input) => ({ path: input.value }))\n      .filter((sub) => sub.path.trim() !== \"\");\n\n    const config = {\n      context: context,\n      subscribe: subscribe\n    };\n\n    document.getElementById(\"subscriptionJson\").value = JSON.stringify(config, null, 2);\n  }\n\n  syncFromJson() {\n    try {\n      const jsonText = document.getElementById(\"subscriptionJson\").value;\n      const config = JSON.parse(jsonText);\n\n      // Update context\n      document.getElementById(\"context\").value = config.context || \"*\";\n\n      // Update paths\n      const pathsList = document.getElementById(\"pathsList\");\n      pathsList.innerHTML = \"\";\n\n      if (config.subscribe && Array.isArray(config.subscribe)) {\n        config.subscribe.forEach((sub) => {\n          this.addPathItem(sub.path || \"\");\n        });\n      }\n    } catch (error) {\n      // Invalid JSON, don't update form\n      console.warn(\"Invalid JSON in editor:\", error.message);\n    }\n  }\n\n  async saveConfig(filename, config, configKey, label) {\n    try {\n      const response = await fetch(`${API_BASE_PATH}/config/${filename}`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(config)\n      });\n\n      if (response.ok) {\n        this[configKey] = config;\n        this.showNotification(`${label} saved successfully!`, \"success\");\n        this.updateStatus();\n      } else {\n        throw new Error(\"Failed to save configuration\");\n      }\n    } catch (error) {\n      this.showNotification(`Error saving ${label.toLowerCase()}: ` + error.message, \"error\");\n    }\n  }\n\n  async saveDeltaTimer() {\n    const deltaTimer = parseInt(document.getElementById(\"deltaTimer\").value);\n\n    if (isNaN(deltaTimer) || deltaTimer < DELTA_TIMER_MIN || deltaTimer > DELTA_TIMER_MAX) {\n      this.showNotification(\n        `Delta timer must be between ${DELTA_TIMER_MIN} and ${DELTA_TIMER_MAX} milliseconds`,\n        \"error\"\n      );\n      return;\n    }\n\n    await this.saveConfig(\"delta_timer.json\", { deltaTimer }, \"deltaTimerConfig\", \"Delta timer configuration\");\n  }\n\n  async saveSubscription() {\n    try {\n      const jsonText = document.getElementById(\"subscriptionJson\").value;\n      const config = JSON.parse(jsonText);\n\n      if (!config.context) {\n        throw new Error(\"Context is required\");\n      }\n      if (!config.subscribe || !Array.isArray(config.subscribe)) {\n        throw new Error(\"Subscribe array is required\");\n      }\n\n      await this.saveConfig(\"subscription.json\", config, \"subscriptionConfig\", \"Subscription configuration\");\n    } catch (error) {\n      this.showNotification(\"Error saving subscription: \" + error.message, \"error\");\n    }\n  }\n\n  async saveSentenceFilter() {\n    const filterInput = document.getElementById(\"sentenceFilter\").value;\n    const excludedSentences = filterInput\n      .split(\",\")\n      .map((s) => s.trim().toUpperCase())\n      .filter((s) => s.length > 0);\n\n    await this.saveConfig(\"sentence_filter.json\", { excludedSentences }, \"sentenceFilterConfig\", \"Sentence filter\");\n  }\n\n  async loadMetrics() {\n    try {\n      const response = await fetch(`${API_BASE_PATH}/metrics`);\n      if (response.ok) {\n        const metrics = await response.json();\n        this.protocolVersion = metrics.protocolVersion || 1;\n        this.updateMetricsDisplay(metrics);\n\n        // Fetch v2-specific endpoints when protocol v2 is active\n        if (this.protocolVersion === 2) {\n          this.loadV2Data();\n        }\n      }\n    } catch (error) {\n      console.error(\"Error loading metrics:\", error.message);\n    }\n  }\n\n  async loadV2Data() {\n    const isClient = !this.isServerMode;\n\n    // Fetch v2 endpoints in parallel\n    const fetches = [\n      fetch(`${API_BASE_PATH}/monitoring/alerts`).catch(() => null),\n      fetch(`${API_BASE_PATH}/monitoring/packet-loss`).catch(() => null),\n      fetch(`${API_BASE_PATH}/monitoring/retransmissions`).catch(() => null)\n    ];\n\n    if (isClient) {\n      fetches.push(\n        fetch(`${API_BASE_PATH}/congestion`).catch(() => null),\n        fetch(`${API_BASE_PATH}/bonding`).catch(() => null)\n      );\n    }\n\n    const results = await Promise.all(fetches);\n\n    // Parse responses\n    const [alertsRes, packetLossRes, retransmissionsRes, congestionRes, bondingRes] = results;\n\n    // Monitoring & Alerts\n    const monitoringData = {};\n    if (alertsRes && alertsRes.ok) {\n      monitoringData.alerts = await alertsRes.json();\n    }\n    if (packetLossRes && packetLossRes.ok) {\n      monitoringData.packetLoss = await packetLossRes.json();\n    }\n    if (retransmissionsRes && retransmissionsRes.ok) {\n      monitoringData.retransmissions = await retransmissionsRes.json();\n    }\n    this.updateMonitoringDisplay(monitoringData);\n\n    // Congestion control (client only)\n    if (isClient && congestionRes && congestionRes.ok) {\n      const congestionData = await congestionRes.json();\n      this.updateCongestionDisplay(congestionData);\n    }\n\n    // Bonding (client only)\n    if (isClient && bondingRes && bondingRes.ok) {\n      const bondingData = await bondingRes.json();\n      this.updateBondingDisplay(bondingData);\n    }\n  }\n\n  startMetricsRefresh() {\n    // Clear any existing interval\n    if (this.metricsInterval) {\n      clearInterval(this.metricsInterval);\n    }\n\n    this.metricsInterval = setInterval(() => {\n      this.loadMetrics();\n    }, METRICS_REFRESH_INTERVAL);\n  }\n\n  updateMetricsDisplay(metrics) {\n    // Update network quality display\n    this.updateNetworkQualityDisplay(metrics);\n\n    // Update bandwidth display\n    this.updateBandwidthDisplay(metrics);\n\n    // Update path analytics display\n    this.updatePathAnalyticsDisplay(metrics);\n\n    // Update general metrics\n    const metricsDiv = document.getElementById(\"metrics\");\n    if (!metricsDiv) {\n      return;\n    }\n\n    const isClient = metrics.mode === \"client\";\n    const { stats, status, uptime } = metrics;\n\n    const hasErrors =\n      stats.udpSendErrors > 0 ||\n      stats.compressionErrors > 0 ||\n      stats.encryptionErrors > 0 ||\n      stats.subscriptionErrors > 0;\n\n    const protocolVersion = metrics.protocolVersion || 1;\n    const protocolLabel = protocolVersion === 2 ? \"v2\" : \"v1\";\n\n    // Build metrics grid items\n    const metricsGridItems = [\n      renderMetricItem(\"Uptime\", uptime.formatted),\n      renderMetricItem(\"Mode\", isClient ? \"üì± Client\" : \"üñ•Ô∏è Server\"),\n      renderMetricItem(\"Protocol\", `<span class=\"protocol-badge protocol-${protocolLabel}\">${protocolLabel.toUpperCase()}</span>`),\n      renderMetricItem(\"Status\", status.readyToSend ? \"‚úì Ready\" : \"‚úó Not Ready\", status.readyToSend ? \"success\" : \"error\"),\n      isClient ? renderMetricItem(\"Buffered Deltas\", status.deltasBuffered) : \"\"\n    ].join(\"\");\n\n    // Build stats items\n    const statsItems = [\n      isClient\n        ? renderStatItem(\"Deltas Sent\", stats.deltasSent.toLocaleString())\n        : renderStatItem(\"Deltas Received\", stats.deltasReceived.toLocaleString()),\n      isClient ? renderStatItem(\"UDP Send Errors\", stats.udpSendErrors, stats.udpSendErrors > 0) : \"\",\n      isClient ? renderStatItem(\"UDP Retries\", stats.udpRetries) : \"\",\n      renderStatItem(\"Compression Errors\", stats.compressionErrors, stats.compressionErrors > 0),\n      renderStatItem(\"Encryption Errors\", stats.encryptionErrors, stats.encryptionErrors > 0),\n      isClient ? renderStatItem(\"Subscription Errors\", stats.subscriptionErrors, stats.subscriptionErrors > 0) : \"\",\n      !isClient && stats.duplicatePackets > 0 ? renderStatItem(\"Duplicate Packets\", stats.duplicatePackets.toLocaleString()) : \"\"\n    ].join(\"\");\n\n    let metricsHtml = `\n      <h4>üìä Performance Metrics</h4>\n      <div class=\"metrics-grid\">${metricsGridItems}</div>\n      <div class=\"metrics-stats\">\n        <h5>Transmission Statistics</h5>\n        <div class=\"stats-grid\">${statsItems}</div>\n      </div>\n    `;\n\n    // Add Smart Batching section for client mode\n    if (isClient && metrics.smartBatching) {\n      const sb = metrics.smartBatching;\n      const totalSends = sb.earlySends + sb.timerSends;\n      const earlyPercent = totalSends > 0 ? Math.round((sb.earlySends / totalSends) * 100) : 0;\n\n      metricsHtml += `\n        <div class=\"metrics-stats\">\n          <h5>üì¶ Smart Batching</h5>\n          <div class=\"stats-grid\">\n            ${renderStatItem(\"Avg Bytes/Delta\", sb.avgBytesPerDelta + \" bytes\")}\n            ${renderStatItem(\"Max Deltas/Batch\", sb.maxDeltasPerBatch)}\n            ${renderStatItem(\"Early Sends\", sb.earlySends.toLocaleString() + \" (\" + earlyPercent + \"%)\")}\n            ${renderStatItem(\"Timer Sends\", sb.timerSends.toLocaleString())}\n            ${renderStatItem(\"Oversized Packets\", sb.oversizedPackets, sb.oversizedPackets > 0)}\n          </div>\n        </div>\n      `;\n    }\n\n    if (metrics.lastError) {\n      const timeAgo = metrics.lastError.timeAgo;\n      const timeAgoStr = timeAgo < 60000\n        ? `${Math.floor(timeAgo / 1000)}s ago`\n        : `${Math.floor(timeAgo / 60000)}m ago`;\n\n      metricsHtml += `\n        <div class=\"metrics-error\">\n          <h5>‚ö†Ô∏è Last Error</h5>\n          <div class=\"error-message\">${this.escapeHtml(metrics.lastError.message)}</div>\n          <div class=\"error-time\">Occurred ${timeAgoStr}</div>\n        </div>\n      `;\n    } else if (!hasErrors) {\n      metricsHtml += `\n        <div class=\"metrics-success\">\n          <div class=\"success-message\">‚úì No errors detected</div>\n        </div>\n      `;\n    }\n\n    metricsDiv.innerHTML = metricsHtml;\n  }\n\n  updateNetworkQualityDisplay(metrics) {\n    const nqDiv = document.getElementById(\"networkQuality\");\n    if (!nqDiv || !metrics.networkQuality) {\n      return;\n    }\n\n    const nq = metrics.networkQuality;\n    const isClient = metrics.mode === \"client\";\n\n    // Determine quality level and color\n    let qualityLabel = \"N/A\";\n    let qualityColor = \"#9E9E9E\";\n    if (nq.linkQuality !== undefined) {\n      if (nq.linkQuality >= 90) {\n        qualityLabel = \"Excellent\";\n        qualityColor = \"#4CAF50\";\n      } else if (nq.linkQuality >= 70) {\n        qualityLabel = \"Good\";\n        qualityColor = \"#FFC107\";\n      } else if (nq.linkQuality >= 50) {\n        qualityLabel = \"Fair\";\n        qualityColor = \"#FF9800\";\n      } else {\n        qualityLabel = \"Poor\";\n        qualityColor = \"#F44336\";\n      }\n    }\n\n    // Build the quality gauge using SVG half-doughnut\n    const qualityPct = nq.linkQuality !== undefined ? nq.linkQuality : 0;\n    const gaugeAngle = (qualityPct / 100) * 180;\n    const radStart = Math.PI;\n    const radEnd = radStart + (gaugeAngle * Math.PI / 180);\n    const cx = 50, cy = 50, r = 40;\n    const x1 = cx + r * Math.cos(radStart);\n    const y1 = cy + r * Math.sin(radStart);\n    const x2 = cx + r * Math.cos(radEnd);\n    const y2 = cy + r * Math.sin(radEnd);\n    const largeArc = gaugeAngle > 180 ? 1 : 0;\n\n    const gaugeSvg = `\n      <svg viewBox=\"0 0 100 55\" class=\"quality-gauge\" preserveAspectRatio=\"xMidYMid meet\">\n        <path d=\"M ${cx - r} ${cy} A ${r} ${r} 0 0 1 ${cx + r} ${cy}\"\n              fill=\"none\" stroke=\"#E0E0E0\" stroke-width=\"8\" stroke-linecap=\"round\"/>\n        ${qualityPct > 0 ? `<path d=\"M ${x1} ${y1} A ${r} ${r} 0 ${largeArc} 1 ${x2} ${y2}\"\n              fill=\"none\" stroke=\"${qualityColor}\" stroke-width=\"8\" stroke-linecap=\"round\"/>` : \"\"}\n        <text x=\"${cx}\" y=\"${cy - 5}\" text-anchor=\"middle\" font-size=\"16\" font-weight=\"bold\" fill=\"${qualityColor}\">\n          ${qualityPct}\n        </text>\n        <text x=\"${cx}\" y=\"${cy + 8}\" text-anchor=\"middle\" font-size=\"7\" fill=\"#666\">\n          ${qualityLabel}\n        </text>\n      </svg>\n    `;\n\n    // Build RTT and jitter stats\n    const rttDisplay = nq.rtt !== undefined ? nq.rtt + \" ms\" : \"N/A\";\n    const jitterDisplay = nq.jitter !== undefined ? nq.jitter + \" ms\" : \"N/A\";\n\n    let nqHtml = `\n      <div class=\"network-quality-dashboard\">\n        <div class=\"nq-hero\">\n          <div class=\"nq-gauge-container\">\n            ${gaugeSvg}\n            <div class=\"nq-gauge-label\">Link Quality</div>\n          </div>\n          <div class=\"nq-key-metrics\">\n            ${renderMetricItem(\"RTT\", rttDisplay, nq.rtt > 500 ? \"error\" : nq.rtt > 200 ? \"warning\" : \"\")}\n            ${renderMetricItem(\"Jitter\", jitterDisplay, nq.jitter > 100 ? \"error\" : nq.jitter > 50 ? \"warning\" : \"\")}\n          </div>\n        </div>\n\n        <div class=\"nq-details\">\n          <h5>Reliability Statistics</h5>\n          <div class=\"stats-grid\">\n    `;\n\n    if (isClient) {\n      nqHtml += `\n            ${renderStatItem(\"Retransmissions\", (nq.retransmissions || 0).toLocaleString(), nq.retransmissions > 0)}\n            ${renderStatItem(\"Queue Depth\", (nq.queueDepth || 0).toLocaleString(), nq.queueDepth > 100)}\n      `;\n    } else {\n      nqHtml += `\n            ${renderStatItem(\"ACKs Sent\", (nq.acksSent || 0).toLocaleString())}\n            ${renderStatItem(\"NAKs Sent\", (nq.naksSent || 0).toLocaleString(), nq.naksSent > 0)}\n      `;\n    }\n\n    nqHtml += `\n          </div>\n        </div>\n      </div>\n    `;\n\n    nqDiv.innerHTML = nqHtml;\n  }\n\n  updateBandwidthDisplay(metrics) {\n    const bandwidthDiv = document.getElementById(\"bandwidth\");\n    if (!bandwidthDiv || !metrics.bandwidth) {\n      return;\n    }\n\n    const bw = metrics.bandwidth;\n    const isClient = metrics.mode === \"client\";\n\n    // Calculate savings (client uses bytesOut, server uses bytesIn)\n    const savedBytes = isClient ? bw.bytesOutRaw - bw.bytesOut : bw.bytesInRaw - bw.bytesIn;\n    const savedFormatted = this.formatBytes(savedBytes > 0 ? savedBytes : 0);\n\n    // Build bandwidth stats based on mode\n    const bandwidthStats = isClient\n      ? [\n        renderBwStat(\"Total Sent (Compressed)\", bw.bytesOutFormatted),\n        renderBwStat(\"Total Raw (Before Compression)\", bw.bytesOutRawFormatted),\n        renderBwStat(\"Bandwidth Saved\", savedFormatted, true, true),\n        renderBwStat(\"Packets Sent\", bw.packetsOut.toLocaleString())\n      ]\n      : [\n        renderBwStat(\"Total Received (Compressed)\", bw.bytesInFormatted),\n        renderBwStat(\"Total Raw (After Decompression)\", this.formatBytes(bw.bytesInRaw || 0)),\n        renderBwStat(\"Bandwidth Saved\", savedFormatted, true, true),\n        renderBwStat(\"Packets Received\", bw.packetsIn.toLocaleString())\n      ];\n\n    const bandwidthHtml = `\n      <div class=\"bandwidth-dashboard\">\n        <div class=\"bandwidth-hero\">\n          <div class=\"hero-stat ${isClient ? \"primary\" : \"secondary\"}\">\n            <div class=\"hero-value\">${isClient ? bw.rateOutFormatted : bw.rateInFormatted}</div>\n            <div class=\"hero-label\">${isClient ? \"Upload Rate\" : \"Download Rate\"}</div>\n          </div>\n          <div class=\"hero-stat success\">\n            <div class=\"hero-value\">${bw.compressionRatio}%</div>\n            <div class=\"hero-label\">Compression Ratio</div>\n          </div>\n          <div class=\"hero-stat\">\n            <div class=\"hero-value\">${bw.avgPacketSizeFormatted}</div>\n            <div class=\"hero-label\">Avg Packet Size</div>\n          </div>\n        </div>\n\n        <div class=\"bandwidth-details\">\n          <h5>üìä Bandwidth Details</h5>\n          <div class=\"bandwidth-grid\">${bandwidthStats.join(\"\")}</div>\n        </div>\n\n        ${this.renderBandwidthChart(bw.history, isClient)}\n      </div>\n    `;\n\n    bandwidthDiv.innerHTML = bandwidthHtml;\n  }\n\n  renderBandwidthChart(history, isClient) {\n    if (!history || history.length < 2) {\n      return `\n        <div class=\"bandwidth-chart-placeholder\">\n          <p>Collecting data for chart... (${history ? history.length : 0}/2 points)</p>\n        </div>\n      `;\n    }\n\n    // Simple SVG sparkline chart\n    const width = 100;\n    const height = 40;\n    const maxRate = Math.max(...history.map((h) => (isClient ? h.rateOut : h.rateIn)), 1);\n    const points = history\n      .map((h, i) => {\n        const x = (i / (history.length - 1)) * width;\n        const y = height - ((isClient ? h.rateOut : h.rateIn) / maxRate) * height;\n        return `${x},${y}`;\n      })\n      .join(\" \");\n\n    const maxRateFormatted = this.formatBytes(maxRate);\n    const intervalSeconds = METRICS_REFRESH_INTERVAL / 1000;\n\n    return `\n      <div class=\"bandwidth-chart\">\n        <h5>üìà Rate History (Last ${history.length * intervalSeconds}s)</h5>\n        <div class=\"chart-container\">\n          <svg viewBox=\"0 0 ${width} ${height}\" class=\"sparkline\" preserveAspectRatio=\"none\">\n            <polyline\n              fill=\"none\"\n              stroke=\"var(--primary-color)\"\n              stroke-width=\"1.5\"\n              points=\"${points}\"\n            />\n          </svg>\n          <div class=\"chart-labels\">\n            <span class=\"chart-max\">${maxRateFormatted}/s</span>\n            <span class=\"chart-min\">0</span>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  updatePathAnalyticsDisplay(metrics) {\n    const pathDiv = document.getElementById(\"pathAnalytics\");\n    if (!pathDiv || !metrics.pathStats) {\n      return;\n    }\n\n    const paths = metrics.pathStats;\n\n    if (paths.length === 0) {\n      pathDiv.innerHTML = `\n        <div class=\"path-analytics-empty\">\n          <p>No path data collected yet. Data will appear once deltas are transmitted.</p>\n        </div>\n      `;\n      return;\n    }\n\n    // Count unique categories\n    const categoryCount = new Set(paths.map((p) => p.path.split(\".\")[0])).size;\n\n    let pathHtml = `\n      <div class=\"path-analytics-dashboard\">\n        <div class=\"path-summary\">\n          <div class=\"summary-stat\">\n            <span class=\"summary-value\">${paths.length}</span>\n            <span class=\"summary-label\">Active Paths</span>\n          </div>\n          <div class=\"summary-stat\">\n            <span class=\"summary-value\">${categoryCount}</span>\n            <span class=\"summary-label\">Categories</span>\n          </div>\n        </div>\n\n        <div class=\"path-table-container\">\n          <table class=\"path-table\">\n            <thead>\n              <tr>\n                <th>Path</th>\n                <th>Updates/min</th>\n                <th>Data Volume</th>\n                <th>% of Total</th>\n              </tr>\n            </thead>\n            <tbody>\n    `;\n\n    // Show top 15 paths\n    paths.slice(0, 15).forEach((p) => {\n      const barWidth = Math.max(p.percentage, 2); // Minimum 2% width for visibility\n      pathHtml += `\n        <tr>\n          <td class=\"path-name\" title=\"${this.escapeHtml(p.path)}\">${this.escapeHtml(p.path)}</td>\n          <td class=\"path-rate\">${p.updatesPerMinute}</td>\n          <td class=\"path-bytes\">${p.bytesFormatted}</td>\n          <td class=\"path-percentage\">\n            <div class=\"percentage-bar-container\">\n              <div class=\"percentage-bar\" style=\"width: ${barWidth}%\"></div>\n              <span class=\"percentage-text\">${p.percentage}%</span>\n            </div>\n          </td>\n        </tr>\n      `;\n    });\n\n    pathHtml += `\n            </tbody>\n          </table>\n        </div>\n    `;\n\n    if (paths.length > 15) {\n      pathHtml += `\n        <div class=\"path-more\">\n          <p>Showing top 15 of ${paths.length} paths</p>\n        </div>\n      `;\n    }\n\n    pathHtml += \"</div>\";\n\n    pathDiv.innerHTML = pathHtml;\n  }\n\n  updateCongestionDisplay(data) {\n    const section = document.getElementById(\"congestionSection\");\n    const div = document.getElementById(\"congestionControl\");\n    if (!section || !div) {return;}\n\n    section.style.display = \"\";\n\n    const stateLabel = (data.state || \"unknown\").replace(/-/g, \" \");\n    const stateClass = data.state === \"slow-start\" ? \"warning\" : data.state === \"congestion-avoidance\" ? \"success\" : \"\";\n    const modeLabel = data.mode === \"auto\" ? \"Automatic\" : \"Manual Override\";\n\n    const html = `\n      <div class=\"v2-dashboard\">\n        <div class=\"metrics-grid\">\n          ${renderMetricItem(\"State\", `<span class=\"congestion-state ${stateClass}\">${stateLabel}</span>`)}\n          ${renderMetricItem(\"Mode\", modeLabel)}\n          ${renderMetricItem(\"Window Size\", data.windowSize || 0)}\n          ${renderMetricItem(\"Delta Timer\", (data.currentDeltaTimer || data.deltaTimer || 0) + \" ms\")}\n        </div>\n        <div class=\"metrics-stats\">\n          <h5>Congestion Details</h5>\n          <div class=\"stats-grid\">\n            ${renderStatItem(\"Min Delta Timer\", (data.minDeltaTimer || 0) + \" ms\")}\n            ${renderStatItem(\"Max Delta Timer\", (data.maxDeltaTimer || 0) + \" ms\")}\n            ${renderStatItem(\"Avg RTT\", (data.avgRTT !== undefined ? Math.round(data.avgRTT) : 0) + \" ms\")}\n            ${renderStatItem(\"Avg Packet Loss\", (data.avgLoss !== undefined ? (data.avgLoss * 100).toFixed(1) : 0) + \"%\", data.avgLoss > 0.05)}\n          </div>\n        </div>\n      </div>\n    `;\n\n    div.innerHTML = html;\n  }\n\n  updateBondingDisplay(data) {\n    const section = document.getElementById(\"bondingSection\");\n    const div = document.getElementById(\"bondingStatus\");\n    if (!section || !div) {return;}\n\n    if (!data.enabled) {\n      section.style.display = \"none\";\n      return;\n    }\n\n    section.style.display = \"\";\n\n    const modeLabel = (data.mode || \"active-backup\").replace(/-/g, \" \");\n    const activeLink = data.activeLink || \"primary\";\n\n    let linksHtml = \"\";\n    if (data.links) {\n      const linkEntries = Object.entries(data.links);\n      linksHtml = linkEntries.map(([name, link]) => {\n        const isActive = name === activeLink;\n        const aliveClass = link.alive ? \"success\" : \"error\";\n        return `\n          <div class=\"bonding-link ${isActive ? \"active\" : \"\"}\">\n            <div class=\"link-header\">\n              <span class=\"link-name\">${this.escapeHtml(name)}</span>\n              ${isActive ? '<span class=\"link-badge active-badge\">ACTIVE</span>' : \"\"}\n              <span class=\"link-badge ${aliveClass}\">${link.alive ? \"UP\" : \"DOWN\"}</span>\n            </div>\n            <div class=\"link-stats\">\n              ${renderStatItem(\"RTT\", (link.rtt || 0) + \" ms\")}\n              ${renderStatItem(\"Packet Loss\", ((link.packetLoss || 0) * 100).toFixed(1) + \"%\")}\n            </div>\n          </div>\n        `;\n      }).join(\"\");\n    }\n\n    const html = `\n      <div class=\"v2-dashboard\">\n        <div class=\"metrics-grid\">\n          ${renderMetricItem(\"Mode\", modeLabel)}\n          ${renderMetricItem(\"Active Link\", activeLink)}\n        </div>\n        <div class=\"bonding-links\">${linksHtml}</div>\n        <div style=\"margin-top: 1rem;\">\n          <button id=\"failoverBtn\" class=\"btn btn-secondary\">Force Failover</button>\n        </div>\n      </div>\n    `;\n\n    div.innerHTML = html;\n\n    // Attach failover button listener\n    const failoverBtn = document.getElementById(\"failoverBtn\");\n    if (failoverBtn) {\n      failoverBtn.addEventListener(\"click\", () => this.triggerFailover());\n    }\n  }\n\n  async triggerFailover() {\n    try {\n      const response = await fetch(`${API_BASE_PATH}/bonding/failover`, { method: \"POST\" });\n      if (response.ok) {\n        const result = await response.json();\n        this.showNotification(`Failover complete. Active link: ${result.activeLink}`, \"success\");\n        this.loadMetrics();\n      } else {\n        const err = await response.json();\n        this.showNotification(\"Failover failed: \" + (err.error || \"Unknown error\"), \"error\");\n      }\n    } catch (error) {\n      this.showNotification(\"Failover failed: \" + error.message, \"error\");\n    }\n  }\n\n  updateMonitoringDisplay(data) {\n    const section = document.getElementById(\"monitoringSection\");\n    const div = document.getElementById(\"monitoringAlerts\");\n    if (!section || !div) {return;}\n\n    // Show section if we have any monitoring data\n    const hasData = data.alerts || data.packetLoss || data.retransmissions;\n    if (!hasData) {\n      section.style.display = \"none\";\n      return;\n    }\n\n    section.style.display = \"\";\n\n    let html = '<div class=\"v2-dashboard\">';\n\n    // Alerts section\n    if (data.alerts) {\n      const activeAlerts = data.alerts.activeAlerts || {};\n      const alertEntries = Object.entries(activeAlerts);\n      const alertCount = alertEntries.filter(([, level]) => level !== \"ok\").length;\n\n      const alertsContent = alertCount === 0\n        ? \"<div class=\\\"metrics-success\\\"><div class=\\\"success-message\\\">No active alerts</div></div>\"\n        : `<div class=\"stats-grid\">\n                ${alertEntries.map(([metric, level]) => renderStatItem(metric, `<span class=\"alert-level alert-${level}\">${level.toUpperCase()}</span>`, level === \"critical\")).join(\"\")}\n              </div>`;\n\n      html += `\n        <div class=\"monitoring-subsection\">\n          <h5>Active Alerts</h5>\n          ${alertsContent}\n        </div>\n      `;\n    }\n\n    // Packet Loss section\n    if (data.packetLoss && data.packetLoss.summary) {\n      const summary = data.packetLoss.summary;\n      html += `\n        <div class=\"monitoring-subsection\">\n          <h5>Packet Loss</h5>\n          <div class=\"stats-grid\">\n            ${renderStatItem(\"Overall Loss Rate\", (summary.overallLossRate * 100).toFixed(2) + \"%\", summary.overallLossRate > 0.05)}\n            ${renderStatItem(\"Max Loss Rate\", (summary.maxLossRate * 100).toFixed(2) + \"%\", summary.maxLossRate > 0.1)}\n            ${renderStatItem(\"Trend\", summary.trend || \"stable\")}\n          </div>\n        </div>\n      `;\n    }\n\n    // Retransmissions section\n    if (data.retransmissions && data.retransmissions.summary) {\n      const summary = data.retransmissions.summary;\n      html += `\n        <div class=\"monitoring-subsection\">\n          <h5>Retransmission Rates</h5>\n          <div class=\"stats-grid\">\n            ${renderStatItem(\"Current Rate\", (summary.currentRate * 100).toFixed(2) + \"%\", summary.currentRate > 0.05)}\n            ${renderStatItem(\"Average Rate\", (summary.avgRate * 100).toFixed(2) + \"%\")}\n            ${renderStatItem(\"Max Rate\", (summary.maxRate * 100).toFixed(2) + \"%\", summary.maxRate > 0.1)}\n          </div>\n        </div>\n      `;\n    }\n\n    html += \"</div>\";\n    div.innerHTML = html;\n  }\n\n  formatBytes(bytes) {\n    if (!bytes || bytes <= 0) {\n      return \"0 B\";\n    }\n    const k = 1024;\n    const sizes = [\"B\", \"KB\", \"MB\", \"GB\"];\n    const i = Math.min(Math.floor(Math.log(bytes) / Math.log(k)), sizes.length - 1);\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n  }\n\n  escapeHtml(text) {\n    const div = document.createElement(\"div\");\n    div.textContent = text;\n    return div.innerHTML;\n  }\n\n  updateStatus() {\n    const statusDiv = document.getElementById(\"status\");\n    let statusHtml = \"<h4>Configuration Status</h4>\";\n\n    // Delta timer status\n    if (this.deltaTimerConfig) {\n      statusHtml += `\n                <div class=\"status-item\">\n                    <strong>Delta Timer:</strong> ${this.escapeHtml(String(this.deltaTimerConfig.deltaTimer))}ms\n                    <span class=\"status-indicator success\">‚úì Configured</span>\n                </div>\n            `;\n    } else {\n      statusHtml += `\n                <div class=\"status-item\">\n                    <strong>Delta Timer:</strong>\n                    <span class=\"status-indicator warning\">‚ö† Not configured</span>\n                </div>\n            `;\n    }\n\n    // Subscription status\n    if (this.subscriptionConfig && this.subscriptionConfig.subscribe) {\n      const pathCount = this.subscriptionConfig.subscribe.length;\n      const escapedContext = this.escapeHtml(this.subscriptionConfig.context || \"\");\n      const escapedPaths = this.subscriptionConfig.subscribe.map((s) => this.escapeHtml(s.path)).join(\", \");\n      statusHtml += `\n                <div class=\"status-item\">\n                    <strong>Subscriptions:</strong> ${pathCount} path(s) configured\n                    <span class=\"status-indicator success\">‚úì Configured</span>\n                </div>\n                <div class=\"status-details\">\n                    <strong>Context:</strong> ${escapedContext}<br>\n                    <strong>Paths:</strong> ${escapedPaths}\n                </div>\n            `;\n    } else {\n      statusHtml += `\n                <div class=\"status-item\">\n                    <strong>Subscriptions:</strong>\n                    <span class=\"status-indicator warning\">‚ö† Not configured</span>\n                </div>\n            `;\n    }\n\n    // Sentence filter status\n    if (\n      this.sentenceFilterConfig &&\n      this.sentenceFilterConfig.excludedSentences &&\n      this.sentenceFilterConfig.excludedSentences.length > 0\n    ) {\n      const filterCount = this.sentenceFilterConfig.excludedSentences.length;\n      const escapedFilters = this.sentenceFilterConfig.excludedSentences.map((s) => this.escapeHtml(s)).join(\", \");\n      statusHtml += `\n                <div class=\"status-item\">\n                    <strong>Sentence Filter:</strong> ${filterCount} sentence(s) excluded\n                    <span class=\"status-indicator success\">‚úì Configured</span>\n                </div>\n                <div class=\"status-details\">\n                    <strong>Excluded:</strong> ${escapedFilters}\n                </div>\n            `;\n    } else {\n      statusHtml += `\n                <div class=\"status-item\">\n                    <strong>Sentence Filter:</strong>\n                    <span class=\"status-indicator info\">‚Ñπ No filters (all sentences transmitted)</span>\n                </div>\n            `;\n    }\n\n    statusDiv.innerHTML = statusHtml;\n  }\n\n  showServerModeUI() {\n    const container = document.querySelector(\".container\");\n\n    // Server mode info card (special styling)\n    const serverModeCard = `\n      <div class=\"config-section\">\n        <div class=\"card server-mode-card\">\n          <div class=\"card-header\">\n            <h2>Server Mode Active</h2>\n            <p>This plugin is running in Server Mode - receiving data from clients</p>\n          </div>\n          <div class=\"card-content\">\n            <div class=\"server-mode-info\">\n              <div class=\"info-grid compact\">\n                <div class=\"info-item\">\n                  <h4>Configuration</h4>\n                  <p>Managed through SignalK plugin settings</p>\n                </div>\n                <div class=\"info-item\">\n                  <h4>Data Flow</h4>\n                  <p>Client Devices ‚Üí Server ‚Üí SignalK</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n\n    container.innerHTML =\n      serverModeCard +\n      renderCard(\"Network Quality\", \"Link quality score and network health indicators\", \"networkQuality\") +\n      renderCard(\"Bandwidth Monitor\", \"Network reception statistics\", \"bandwidth\") +\n      renderCard(\"Path Analytics\", \"Incoming data volume by SignalK path\", \"pathAnalytics\") +\n      renderCard(\"Performance Metrics\", \"Real-time reception statistics (auto-refreshes every 15 seconds)\", \"metrics\") +\n      \"<div id=\\\"monitoringSection\\\" style=\\\"display:none;\\\">\" +\n        renderCard(\"Monitoring & Alerts\", \"Packet loss, retransmission tracking, and alert thresholds\", \"monitoringAlerts\") +\n      \"</div>\";\n  }\n\n  showNotification(message, type = \"success\") {\n    const notification = document.getElementById(\"notification\");\n    notification.textContent = message;\n    notification.className = `notification ${type} show`;\n\n    setTimeout(() => {\n      notification.classList.remove(\"show\");\n    }, NOTIFICATION_TIMEOUT);\n  }\n}\n\n// Initialize when DOM is loaded\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  window.dataConnectorConfig = new DataConnectorConfig();\n});\n\n// Clean up metrics refresh interval when page is hidden or unloaded\ndocument.addEventListener(\"visibilitychange\", () => {\n  if (!window.dataConnectorConfig) {\n    return;\n  }\n\n  if (document.hidden) {\n    // Stop refreshing when page is hidden\n    if (window.dataConnectorConfig.metricsInterval) {\n      clearInterval(window.dataConnectorConfig.metricsInterval);\n      window.dataConnectorConfig.metricsInterval = null;\n    }\n  } else if (!window.dataConnectorConfig.metricsInterval) {\n    // Load metrics immediately and restart refresh when page becomes visible\n    window.dataConnectorConfig.loadMetrics();\n    window.dataConnectorConfig.startMetricsRefresh();\n  }\n});\n\nwindow.addEventListener(\"beforeunload\", () => {\n  if (window.dataConnectorConfig && window.dataConnectorConfig.metricsInterval) {\n    clearInterval(window.dataConnectorConfig.metricsInterval);\n    window.dataConnectorConfig.metricsInterval = null;\n  }\n});\n\n// Export for global access\nexport default DataConnectorConfig;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.S = {};\nvar initPromises = {};\nvar initTokens = {};\n__webpack_require__.I = (name, initScope) => {\n\tif(!initScope) initScope = [];\n\t// handling circular init calls\n\tvar initToken = initTokens[name];\n\tif(!initToken) initToken = initTokens[name] = {};\n\tif(initScope.indexOf(initToken) >= 0) return;\n\tinitScope.push(initToken);\n\t// only runs once\n\tif(initPromises[name]) return initPromises[name];\n\t// creates a new share scope if needed\n\tif(!__webpack_require__.o(__webpack_require__.S, name)) __webpack_require__.S[name] = {};\n\t// runs all init snippets from all modules reachable\n\tvar scope = __webpack_require__.S[name];\n\tvar warn = (msg) => {\n\t\tif (typeof console !== \"undefined\" && console.warn) console.warn(msg);\n\t};\n\tvar uniqueName = \"signalk-edge-link\";\n\tvar register = (name, version, factory, eager) => {\n\t\tvar versions = scope[name] = scope[name] || {};\n\t\tvar activeVersion = versions[version];\n\t\tif(!activeVersion || (!activeVersion.loaded && (!eager != !activeVersion.eager ? eager : uniqueName > activeVersion.from))) versions[version] = { get: factory, from: uniqueName, eager: !!eager };\n\t};\n\tvar initExternal = (id) => {\n\t\tvar handleError = (err) => (warn(\"Initialization of sharing external failed: \" + err));\n\t\ttry {\n\t\t\tvar module = __webpack_require__(id);\n\t\t\tif(!module) return;\n\t\t\tvar initFn = (module) => (module && module.init && module.init(__webpack_require__.S[name], initScope))\n\t\t\tif(module.then) return promises.push(module.then(initFn, handleError));\n\t\t\tvar initResult = initFn(module);\n\t\t\tif(initResult && initResult.then) return promises.push(initResult['catch'](handleError));\n\t\t} catch(err) { handleError(err); }\n\t}\n\tvar promises = [];\n\tswitch(name) {\n\t}\n\tif(!promises.length) return initPromises[name] = 1;\n\treturn initPromises[name] = Promise.all(promises).then(() => (initPromises[name] = 1));\n};","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nvar __webpack_exports__ = __webpack_require__(2154);\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_defineProperties","_toPropertyKey","key","_typeof","toPrimitive","String","_toPrimitive","API_BASE_PATH","renderCard","title","subtitle","contentId","contentClass","undefined","concat","toLowerCase","renderStatItem","label","renderMetricItem","statusClass","renderBwStat","isSuccess","DataConnectorConfig","_classCallCheck","this","deltaTimerConfig","subscriptionConfig","sentenceFilterConfig","isServerMode","protocolVersion","metricsInterval","syncTimeout","init","_init","_callee","_t","_context","checkServerMode","showServerModeUI","loadConfigurations","setupEventListeners","updateUI","updateStatus","loadMetrics","startMetricsRefresh","console","error","showNotification","message","_checkServerMode","_callee2","response","_context2","fetch","ok","status","_loadConfigurations","_callee3","_yield$Promise$all","_yield$Promise$all2","deltaResponse","subResponse","filterResponse","_t3","_context3","all","_slicedToArray","json","_this","document","getElementById","addEventListener","saveDeltaTimer","saveSubscription","saveSentenceFilter","addPathItem","clearTimeout","setTimeout","syncFromJson","updateJsonFromForm","_this2","deltaTimer","context","innerHTML","subscribe","Array","isArray","forEach","sub","path","JSON","stringify","excludedSentences","join","_this3","pathsList","pathItem","createElement","className","input","type","placeholder","button","textContent","remove","appendChild","pathInputs","querySelectorAll","config","from","map","filter","trim","_this4","jsonText","parse","warn","_saveConfig","_callee4","filename","configKey","_t4","_context4","method","headers","body","Error","_x","_x2","_x3","_x4","_saveDeltaTimer","_callee5","_context5","parseInt","isNaN","saveConfig","_saveSubscription","_callee6","_t5","_context6","_saveSentenceFilter","_callee7","filterInput","_context7","split","s","toUpperCase","_loadMetrics","_callee8","metrics","_t6","_context8","updateMetricsDisplay","loadV2Data","_loadV2Data","_callee9","isClient","fetches","results","_results","alertsRes","packetLossRes","retransmissionsRes","congestionRes","bondingRes","monitoringData","congestionData","bondingData","_context9","push","alerts","packetLoss","retransmissions","updateMonitoringDisplay","updateCongestionDisplay","updateBondingDisplay","_this5","clearInterval","setInterval","updateNetworkQualityDisplay","updateBandwidthDisplay","updatePathAnalyticsDisplay","metricsDiv","mode","stats","uptime","hasErrors","udpSendErrors","compressionErrors","encryptionErrors","subscriptionErrors","protocolLabel","metricsGridItems","formatted","readyToSend","deltasBuffered","statsItems","deltasSent","toLocaleString","deltasReceived","udpRetries","duplicatePackets","metricsHtml","smartBatching","sb","totalSends","earlySends","timerSends","earlyPercent","Math","round","avgBytesPerDelta","maxDeltasPerBatch","oversizedPackets","lastError","timeAgo","timeAgoStr","floor","escapeHtml","nqDiv","networkQuality","nq","qualityLabel","qualityColor","linkQuality","qualityPct","gaugeAngle","radStart","PI","radEnd","x1","cos","y1","sin","x2","y2","largeArc","gaugeSvg","cx","cy","rttDisplay","rtt","jitterDisplay","jitter","nqHtml","queueDepth","acksSent","naksSent","bandwidthDiv","bandwidth","bw","savedBytes","bytesOutRaw","bytesOut","bytesInRaw","bytesIn","savedFormatted","formatBytes","bandwidthStats","bytesOutFormatted","bytesOutRawFormatted","packetsOut","bytesInFormatted","packetsIn","bandwidthHtml","rateOutFormatted","rateInFormatted","compressionRatio","avgPacketSizeFormatted","renderBandwidthChart","history","maxRate","max","_toConsumableArray","h","rateOut","rateIn","points","x","maxRateFormatted","METRICS_REFRESH_INTERVAL","_this6","pathDiv","pathStats","paths","categoryCount","Set","size","pathHtml","slice","barWidth","percentage","updatesPerMinute","bytesFormatted","data","section","div","style","display","stateLabel","state","replace","stateClass","modeLabel","html","windowSize","currentDeltaTimer","minDeltaTimer","maxDeltaTimer","avgRTT","avgLoss","toFixed","_this7","enabled","activeLink","linksHtml","links","entries","_ref","_ref2","name","link","isActive","aliveClass","alive","failoverBtn","triggerFailover","_triggerFailover","_callee0","result","err","_t7","_context0","activeAlerts","alertEntries","alertsContent","_ref3","_ref5","_ref6","metric","level","summary","overallLossRate","maxLossRate","trend","currentRate","avgRate","bytes","sizes","min","log","parseFloat","pow","text","_this8","statusDiv","statusHtml","pathCount","escapedContext","escapedPaths","filterCount","escapedFilters","querySelector","notification","classList","window","dataConnectorConfig","hidden","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","obj","prop","hasOwnProperty","S","initPromises","initTokens","I","initScope","initToken","indexOf","promises"],"sourceRoot":""}