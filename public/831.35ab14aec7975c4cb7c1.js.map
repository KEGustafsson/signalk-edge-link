{"version":3,"file":"831.35ab14aec7975c4cb7c1.js","mappings":"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","sources":["webpack://signalk-edge-link/./src/components/PluginConfigurationPanel.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport Form from \"@rjsf/core\";\r\nimport validator from \"@rjsf/validator-ajv8\";\r\n\r\nconst API_BASE = \"/plugins/signalk-edge-link\";\r\n\r\n// Base schema properties shared between server and client modes\r\nconst baseProperties = {\r\n  serverType: {\r\n    type: \"string\",\r\n    title: \"Operation Mode\",\r\n    description: \"Select Server to receive data, or Client to send data\",\r\n    default: \"client\",\r\n    enum: [\"server\", \"client\"],\r\n    enumNames: [\"Server Mode - Receive Data\", \"Client Mode - Send Data\"]\r\n  },\r\n  udpPort: {\r\n    type: \"number\",\r\n    title: \"UDP Port\",\r\n    description: \"UDP port for data transmission (must match on both ends)\",\r\n    default: 4446,\r\n    minimum: 1024,\r\n    maximum: 65535\r\n  },\r\n  secretKey: {\r\n    type: \"string\",\r\n    title: \"Encryption Key\",\r\n    description: \"32-character secret key (must match on both ends)\",\r\n    minLength: 32,\r\n    maxLength: 32\r\n  },\r\n  useMsgpack: {\r\n    type: \"boolean\",\r\n    title: \"Use MessagePack\",\r\n    description: \"Binary serialization for smaller payloads (must match on both ends)\",\r\n    default: false\r\n  },\r\n  usePathDictionary: {\r\n    type: \"boolean\",\r\n    title: \"Use Path Dictionary\",\r\n    description: \"Encode paths as numeric IDs for bandwidth savings (must match on both ends)\",\r\n    default: false\r\n  }\r\n};\r\n\r\n// Client-only properties\r\nconst clientProperties = {\r\n  udpAddress: {\r\n    type: \"string\",\r\n    title: \"Server Address\",\r\n    description: \"IP address or hostname of the SignalK server\",\r\n    default: \"127.0.0.1\"\r\n  },\r\n  helloMessageSender: {\r\n    type: \"integer\",\r\n    title: \"Heartbeat Interval (seconds)\",\r\n    description: \"How often to send heartbeat messages\",\r\n    default: 60,\r\n    minimum: 10,\r\n    maximum: 3600\r\n  },\r\n  testAddress: {\r\n    type: \"string\",\r\n    title: \"Connectivity Test Address\",\r\n    description: \"Address to ping for network testing (e.g., 8.8.8.8)\",\r\n    default: \"127.0.0.1\"\r\n  },\r\n  testPort: {\r\n    type: \"number\",\r\n    title: \"Connectivity Test Port\",\r\n    description: \"Port for connectivity test (80, 443, 53)\",\r\n    default: 80,\r\n    minimum: 1,\r\n    maximum: 65535\r\n  },\r\n  pingIntervalTime: {\r\n    type: \"number\",\r\n    title: \"Check Interval (minutes)\",\r\n    description: \"How often to test network connectivity\",\r\n    default: 1,\r\n    minimum: 0.1,\r\n    maximum: 60\r\n  }\r\n};\r\n\r\n// Generate schema based on current mode\r\nfunction getSchema(isClientMode) {\r\n  const properties = { ...baseProperties };\r\n  const required = [\"serverType\", \"udpPort\", \"secretKey\"];\r\n\r\n  if (isClientMode) {\r\n    Object.assign(properties, clientProperties);\r\n    required.push(\"udpAddress\", \"testAddress\", \"testPort\");\r\n  }\r\n\r\n  return {\r\n    type: \"object\",\r\n    title: \"SignalK Edge Link\",\r\n    description: \"Configure encrypted UDP data transmission between SignalK units\",\r\n    required,\r\n    properties\r\n  };\r\n}\r\n\r\n// UI Schema for field ordering and styling\r\nconst uiSchema = {\r\n  \"ui:order\": [\r\n    \"serverType\",\r\n    \"udpPort\",\r\n    \"secretKey\",\r\n    \"useMsgpack\",\r\n    \"usePathDictionary\",\r\n    \"udpAddress\",\r\n    \"helloMessageSender\",\r\n    \"testAddress\",\r\n    \"testPort\",\r\n    \"pingIntervalTime\"\r\n  ],\r\n  secretKey: {\r\n    \"ui:widget\": \"password\",\r\n    \"ui:help\": \"Must be exactly 32 characters long\"\r\n  },\r\n  serverType: {\r\n    \"ui:widget\": \"select\"\r\n  }\r\n};\r\n\r\n/**\r\n * Custom configuration panel for SignalK Data Connector plugin\r\n * Fetches configuration from API and renders dynamic form\r\n */\r\nfunction PluginConfigurationPanel(props) {\r\n  const [formData, setFormData] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [saveStatus, setSaveStatus] = useState(null);\r\n\r\n  // Determine if we're in client mode\r\n  const isClientMode = formData.serverType !== \"server\";\r\n\r\n  // Generate schema based on current mode\r\n  const schema = getSchema(isClientMode);\r\n\r\n  // Fetch configuration from API on mount\r\n  useEffect(() => {\r\n    async function fetchConfig() {\r\n      try {\r\n        const response = await fetch(`${API_BASE}/plugin-config`);\r\n        if (!response.ok) {\r\n          throw new Error(`Failed to load: ${response.statusText}`);\r\n        }\r\n        const data = await response.json();\r\n        if (data.success && data.configuration) {\r\n          setFormData(data.configuration);\r\n        }\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchConfig();\r\n  }, []);\r\n\r\n  // Handle form changes\r\n  const handleChange = useCallback(({ formData: newFormData }) => {\r\n    setFormData(newFormData);\r\n    setSaveStatus(null);\r\n  }, []);\r\n\r\n  // Handle form submission\r\n  const handleSubmit = useCallback(async ({ formData: submittedData }) => {\r\n    setSaveStatus({ type: \"saving\", message: \"Saving...\" });\r\n\r\n    // Clean up client-only fields when in server mode\r\n    const cleanedData = { ...submittedData };\r\n    if (cleanedData.serverType === \"server\") {\r\n      delete cleanedData.udpAddress;\r\n      delete cleanedData.helloMessageSender;\r\n      delete cleanedData.testAddress;\r\n      delete cleanedData.testPort;\r\n      delete cleanedData.pingIntervalTime;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE}/plugin-config`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(cleanedData)\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (response.ok && data.success) {\r\n        setSaveStatus({\r\n          type: \"success\",\r\n          message: data.message || \"Configuration saved. Plugin restarting...\"\r\n        });\r\n      } else {\r\n        throw new Error(data.error || \"Failed to save\");\r\n      }\r\n    } catch (err) {\r\n      setSaveStatus({ type: \"error\", message: err.message });\r\n    }\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div style={{ padding: \"20px\", textAlign: \"center\" }}>Loading configuration...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div style={{ padding: \"20px\", color: \"#dc3545\" }}>\r\n        <h4>Error Loading Configuration</h4>\r\n        <p>{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"signalk-edge-link-config\">\r\n      {saveStatus && (\r\n        <div\r\n          style={{\r\n            padding: \"10px 15px\",\r\n            marginBottom: \"15px\",\r\n            borderRadius: \"4px\",\r\n            backgroundColor:\r\n              saveStatus.type === \"success\"\r\n                ? \"#d4edda\"\r\n                : saveStatus.type === \"error\"\r\n                  ? \"#f8d7da\"\r\n                  : \"#fff3cd\",\r\n            color:\r\n              saveStatus.type === \"success\"\r\n                ? \"#155724\"\r\n                : saveStatus.type === \"error\"\r\n                  ? \"#721c24\"\r\n                  : \"#856404\",\r\n            border: `1px solid ${\r\n              saveStatus.type === \"success\"\r\n                ? \"#c3e6cb\"\r\n                : saveStatus.type === \"error\"\r\n                  ? \"#f5c6cb\"\r\n                  : \"#ffeeba\"\r\n            }`\r\n          }}\r\n        >\r\n          {saveStatus.message}\r\n        </div>\r\n      )}\r\n      <Form\r\n        schema={schema}\r\n        uiSchema={uiSchema}\r\n        formData={formData}\r\n        validator={validator}\r\n        onChange={handleChange}\r\n        onSubmit={handleSubmit}\r\n        liveValidate={false}\r\n      >\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Save Configuration\r\n        </button>\r\n      </Form>\r\n      <style>{`\r\n        .signalk-edge-link-config {\r\n          width: 100%;\r\n        }\r\n        .signalk-edge-link-config .form-group {\r\n          margin-bottom: 1rem;\r\n        }\r\n        .signalk-edge-link-config label {\r\n          font-weight: 600;\r\n          margin-bottom: 0.25rem;\r\n          display: block;\r\n        }\r\n        .signalk-edge-link-config .help-block,\r\n        .signalk-edge-link-config .field-description {\r\n          font-size: 0.85rem;\r\n          color: #666;\r\n          margin-top: 0.25rem;\r\n        }\r\n        .signalk-edge-link-config input,\r\n        .signalk-edge-link-config select {\r\n          width: 100%;\r\n          padding: 0.5rem;\r\n          border: 1px solid #ccc;\r\n          border-radius: 4px;\r\n          font-size: 1rem;\r\n        }\r\n        .signalk-edge-link-config input[type=\"checkbox\"] {\r\n          width: auto;\r\n        }\r\n        .signalk-edge-link-config .btn-primary {\r\n          background-color: #007bff;\r\n          border-color: #007bff;\r\n          color: white;\r\n          padding: 0.5rem 1rem;\r\n          border-radius: 4px;\r\n          cursor: pointer;\r\n          font-size: 1rem;\r\n          margin-top: 1rem;\r\n        }\r\n        .signalk-edge-link-config .btn-primary:hover {\r\n          background-color: #0069d9;\r\n          border-color: #0062cc;\r\n        }\r\n        .signalk-edge-link-config .text-danger {\r\n          color: #dc3545;\r\n          font-size: 0.85rem;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PluginConfigurationPanel;\r\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_slicedToArray","Array","isArray","_arrayWithHoles","next","push","_iterableToArrayLimit","_arrayLikeToArray","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","_nonIterableRest","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_typeof","toPrimitive","String","_toPrimitive","_toPropertyKey","API_BASE","baseProperties","serverType","type","title","description","default","enum","enumNames","udpPort","minimum","maximum","secretKey","minLength","maxLength","useMsgpack","usePathDictionary","clientProperties","udpAddress","helloMessageSender","testAddress","testPort","pingIntervalTime","uiSchema","props","isClientMode","properties","required","_useState2","useState","formData","setFormData","_useState4","loading","setLoading","_useState6","error","setError","_useState8","saveStatus","setSaveStatus","schema","assign","useEffect","_fetchConfig","_callee","response","data","_t","_context","fetch","concat","ok","Error","statusText","json","success","configuration","message","fetchConfig","handleChange","useCallback","_ref","newFormData","handleSubmit","_ref3","_callee2","_ref2","submittedData","cleanedData","_t2","_context2","method","headers","body","JSON","stringify","_x","React","style","padding","textAlign","color","className","marginBottom","borderRadius","backgroundColor","border","Form","validator","onChange","onSubmit","liveValidate"],"sourceRoot":""}